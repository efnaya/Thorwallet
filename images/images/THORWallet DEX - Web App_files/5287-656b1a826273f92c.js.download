"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5287],{91331:function(e,t,n){var r,a=n(67294);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",o({"aria-hidden":"true","data-prefix":"far","data-icon":"times-circle",className:"error_svg__svg-inline--fa error_svg__fa-times-circle error_svg__fa-w-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),r||(r=a.createElement("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"})))}},89978:function(e,t,n){n.d(t,{a:function(){return l}});var r=n(89262),a=n(44004),o=n(10149),i=n(54517),s=n(43037),c=n(83977),u={ETH:function(e){return(0,s.ah)(e)},LTC:function(e){return function(e){var t=e.network,n=e.tx;return t===i.Z.Testnet?{url:"https://blockexplorer.one/litecoin/testnet/tx/".concat(n),providerName:"blockexplorer.one"}:{url:"https://blockexplorer.one/litecoin/mainnet/tx/".concat(n),providerName:"blockexplorer.one"}}(e)},THOR:function(e){return(0,a.ah)(e)},BTC:function(e){return function(e){var t=e.network,n=e.tx;return t===i.Z.Testnet?{url:"https://www.blockchain.com/btc-testnet/tx/".concat(n),providerName:"Blockchain.com"}:{url:"https://www.blockchain.com/btc/tx/".concat(n),providerName:"Blockchain.com"}}(e)},BCH:function(e){return function(e){var t=e.network,n=e.tx;return t===i.Z.Testnet?{url:"https://www.blockchain.com/bch-testnet/tx/".concat(n),providerName:"Blockchain.com"}:{url:"https://www.blockchain.com/bch/tx/".concat(n),providerName:"Blockchain.com"}}(e)},BNB:function(e){return function(e){var t=e.network,n=e.tx;return t===i.Z.Testnet?{url:"https://testnet-explorer.binance.org/tx/".concat(n),providerName:"Binance Explorer"}:{url:"https://explorer.binance.org/tx/".concat(n),providerName:"Binance Explorer"}}(e)},DOGE:function(e){return function(e){var t=e.network,n=e.tx;return t===i.Z.Testnet?{url:"https://blockexplorer.one/dogecoin/testnet/tx/".concat(n),providerName:"blockexplorer.one"}:{url:"https://blockexplorer.one/dogecoin/mainnet/tx/".concat(n),providerName:"blockexplorer.one"}}(e)},TERRA:function(e){return(0,r.Xx)(e)},GAIA:function(e){return function(e){var t=e.network,n=e.tx;return{url:(0,o.QG)({network:t,txID:n}),providerName:"Cosmos Big Dipper"}}(e)}},l=function(e){var t=(0,c.sk)(e.asset);return u[t](e)}},71769:function(e,t,n){n.d(t,{s:function(){return I}});var r=n(59499),a=n(4730),o=n(50029),i=n(87794),s=n.n(i),c=n(48771),u=n(44431),l=n.n(u),f=n(89262),d=n(44004),p=n(36747),h=n(73347),m=n(44097),g=n(40469),w=n(69461),x=n(57778),y=n(47662),v=n(2593),b=n(29251),j=n(14663),k=n(39825),O=n(31303),T=n(58693),P=function(e){var t,n=e.asset,r=e.recipient,a=e.amount,o=e.memo,i=e.from,s=e.chainId,u=v.O$.from(a.amount().toFixed());return(0,c.rx)(n)!==(0,c.rx)(c.y7)&&(t=(0,O.DT)(n)),t&&t!==O.iI?(0,T.s)({abi:j,contractAddress:t,fnName:"transfer",from:i,chainId:s,params:[r,u.toString()]}):(0,k.K)(s).estimateGas({from:i,to:r,value:u,data:o?(0,b.Y0)(o):void 0})},E=n(83977),C=["feeAsset"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={ETH:function(){var e=(0,o.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.asset.chain===c.qo.Ethereum){e.next=2;break}throw new Error("Ethereum chain expected.");case 2:return e.next=4,P({amount:(0,c.tb)(t.amount),asset:t.asset,from:t.senderAddress,memo:t.memo,chainId:t.asset.chainId,recipient:t.recipient});case 4:return n=e.sent,e.abrupt("return",{type:"eth-fees",ethFees:n,chainId:t.asset.chainId});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),LTC:function(e){return N(e)},THOR:function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.MD)({network:t.network});case 2:return e.t0=e.sent,e.t1=(0,y.di)(t.asset),e.abrupt("return",{type:"fees",rates:null,fees:e.t0,isUTXOChain:!1,asset:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),BTC:function(e){return N(e)},BCH:function(e){return N(e)},BNB:function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.M)({network:t.network});case 2:return e.t0=e.sent,e.t1=(0,y.di)(t.asset),e.abrupt("return",{type:"fees",rates:null,fees:e.t0,isUTXOChain:!1,asset:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),DOGE:function(e){return N(e)},TERRA:function(){var e=(0,o.Z)(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.feeAsset,r=(0,a.Z)(t,C),n||(n=(0,y.di)(r.asset)),e.next=4,(0,f.Ek)(R(R({},r),{},{feeAsset:n}));case 4:return o=e.sent,e.abrupt("return",R({type:"cosmos-fees"},o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),GAIA:function(){var e=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.MD)();case 2:return e.t0=e.sent.average,e.t1=(0,y.di)(t.asset),e.t2=new(l())(g.QL),e.abrupt("return",{type:"cosmos-fees",amount:e.t0,asset:e.t1,gasLimit:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(){var e=(0,o.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t.asset.chain,t.memo);case 2:return n=e.sent,e.abrupt("return",{type:"fees",rates:n.rates,fees:n.fees,isUTXOChain:!0,asset:(0,y.Ec)(t.asset)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e,t){switch(e){case c.qo.Bitcoin:return(0,h.Ju)(t);case c.qo.Doge:var n=(0,w.z)(),r=(0,w.I)({feeRates:n,memo:t});return Promise.resolve({fees:r,rates:n});case c.qo.BitcoinCash:return(0,m.getFeesWithRates)(t);case c.qo.Litecoin:return(0,x.Ju)(t);default:throw new Error("get BTC fees "+t)}},I=function(e){var t=(0,E.sk)(e.asset);return F[t](e)}},96649:function(e,t,n){n.d(t,{b:function(){return s}});var r=n(83253),a=n.n(r),o=n(83555),i=n(85893),s=function(e){var t=e.isOpen,n=e.onRequestClose,r=e.onContinue;return(0,i.jsx)(a(),{isOpen:t,onRequestClose:n,style:{content:{zIndex:2,maxWidth:510,margin:"0 auto",height:"fit-content",borderRadius:16,background:"linear-gradient(162.1deg, #445F5D 15.56%, #3E5461 94.73%)",border:"none",padding:"24px 32px"},overlay:{zIndex:2,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(10px)"}},children:(0,i.jsx)(o.Z,{onRequestClose:n,onClose:r,hasWallet:!0})})}},84458:function(e,t,n){n.d(t,{L:function(){return u}});n(67294);var r=n(74855),a=n(74931),o=n(29046),i=n(30909),s=n(98513),c=n(85893),u=function(e){var t=e.error;return(0,c.jsxs)(i.VY,{size:"s",color:o.Rl.WARNING,margin:"24px 0",children:["The transaction will likely fail, thus we do not allow you to send the transaction."," ",(0,c.jsx)(r.CopyToClipboard,{text:(0,s.h)(t),onCopy:function(){return(0,a.ZP)("Copied")},children:(0,c.jsx)(i.d8,{style:{cursor:"pointer",display:"inline"},color:o.Rl.textHighlighted,size:"s",children:"Copy error"})})]})}},46268:function(e,t,n){n.d(t,{P:function(){return N}});var r,a=n(59499),o=n(17674),i=n(90421),s=n(91261),c=n(67294),u=n(23925),l=n(29046),f=n(30909),d=n(98513),p=n(99590),h=n(26036),m=n(15737),g=n(32622),w=n(60028),x=n(32141);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}var v=function(e){return c.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),r||(r=c.createElement("path",{d:"m487.4 315.7-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"})))},b=n(50463),j=n(79888),k=n(81578),O=n(95136),T=n(58711),P=n(8137),E=n(85893),C=function(e){var t=(0,x.Q)("feeOptionKey"),n=(0,o.Z)(t,2),r=n[0],a=n[1],i=(0,w.J)("prices"),u=(0,o.Z)(i,1)[0],l=P.T8.useGlobalState("customNonce"),d=(0,o.Z)(l,1)[0],p=(0,c.useCallback)((function(){"eth-gas-price"===e.type&&(0,b.P)(e.chainId)?(0,j.h)(e.gasLimit,e.chainId):a((function(e){var t=e.basicFee;if("average"===t)return{basicFee:"fast",maxBaseFeeSlippage:null,customEthPriorityFee:null};if("fast"===t)return{basicFee:"fastest",maxBaseFeeSlippage:null,customEthPriorityFee:null};if("fastest"===t)return{basicFee:"average",maxBaseFeeSlippage:null,customEthPriorityFee:null};throw new Error("weird")}))}),[e,a]),h=(0,c.useMemo)((function(){return"eth-gas-price"!==e.type?null:(0,O.YY)({feeOptionKey:r,gasPrices:u[e.chainId],chainId:e.chainId})}),[r,u,e]);return(0,E.jsxs)(s.kC,{onClick:p,alignItems:"center",style:{cursor:"pointer",borderRadius:16,padding:0,margin:"0"},children:[(0,E.jsx)(v,{height:16,width:16,fill:"white",style:{marginRight:8}}),(0,E.jsxs)(s.kC,{flexFlow:"column nowrap",children:[(0,E.jsx)(f.d8,{size:"xs",margin:"0",children:(0,T.u)(r)}),"eth-gas-price"===e.type?(0,E.jsxs)(f.FE,{size:"xs",margin:"0",children:[(0,O.Pv)(h)," ",(0,k.L)(e.chainId)]}):null,null!==d?(0,E.jsxs)(f.FE,{size:"xs",children:["Custom nonce: ",d]}):null]})]})};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=(0,u.default)(s.kC).withConfig({displayName:"FeeSumEstimation__Wrapper",componentId:"sc-18la0mi-0"})(["flex-flow:row nowrap;align-items:center;justify-content:space-between;width:100%;cursor:pointer;margin:24px 0 0 0;border-radius:0 0 16px 16px;background-color:rgba(0,0,0,0.2);"]),N=function(e){var t=e.label,n=e.onPress,r=e.fee,a=(0,m.$)(),u=(0,x.Q)("feeOptionKey"),y=(0,o.Z)(u,1)[0],v=(0,w.J)("prices"),b=(0,o.Z)(v,1)[0],j=(0,g.L)(),k=(0,c.useMemo)((function(){return function(e){if("success"!==e.state)return!1;var t,n;if("add-liquidity"===e.type)return"eth-fees"===(null===(t=e.rune)||void 0===t?void 0:t.type)||"eth-fees"===(null===(n=e.asset)||void 0===n?void 0:n.type);if("withdraw"===e.type)return"eth-fees"===e.transactionFee.type;if("erc-20"===e.type)return!0;if("swap"===e.type)return"eth-fees"===e.feeTx.type;if("send"===e.type||"upgrade-rune"===e.type)return"eth-fees"===e.feeTx.type;throw new Error("isTxEthRelevant is not implemented for "+JSON.stringify(e))}(r)?"success"!==r.state?null:"add-liquidity"===r.type?r.asset?"eth-fees"!==r.asset.type?null:{gasLimit:r.asset.ethFees,chainId:r.asset.chainId}:null:"withdraw"===r.type?r.transactionFee&&"eth-fees"===r.transactionFee.type?{gasLimit:r.transactionFee.ethFees,chainId:r.transactionFee.chainId}:null:"eth-fees"!==r.feeTx.type?null:{gasLimit:r.feeTx.ethFees,chainId:r.feeTx.chainId}:null}),[r]),O=(0,c.useMemo)((function(){return k?{type:"eth-gas-price",gasLimit:k.gasLimit,chainId:k.chainId}:{type:"default"}}),[k]);return(0,E.jsxs)(F,{loading:"loading"===r.state||"error"===r.state,style:{padding:"16px"},children:[(0,E.jsx)(C,R({},O)),(0,E.jsxs)(s.kC,{flexFlow:"column",style:{alignItems:"flex-end"},children:[(0,E.jsxs)(s.kC,{onClick:n,alignItems:"center",style:{cursor:"pointer"},children:[(0,E.jsx)(i.Z,{width:15,height:15,fill:l.Rl.white,style:{marginRight:8}}),(0,E.jsx)(f.VY,{color:l.Rl.TRANSPARENT_WHITE,size:"xs",margin:"0",children:"loading"===r.state?"Estimating fee..":"error"===r.state?"Fee could not be loaded":null!==t&&void 0!==t?t:"Estimated Fee"})]}),(0,E.jsx)(f.VY,{color:l.Rl.white,size:"xs",margin:"0",style:{paddingTop:6,textAlign:"right",paddingLeft:20},children:"loading"===r.state?"Loading...":"success"===r.state?"$".concat((0,h.Y)((0,p.r)({fee:r,feeOptionKey:y,getPrice:a,gasPrices:b[null===k||void 0===k?void 0:k.chainId],inboundAddresses:j}).toFixed(2),{separator:",",forceAtLeastTwoDigits:!0})):"".concat("error"===r.state?(0,d.h)(r.feeError).substring(0,100):"",".")})]})]})}},89223:function(e,t,n){n.d(t,{o:function(){return A}});var r=n(50029),a=n(17674),o=n(59499),i=n(87794),s=n.n(i),c=n(55500),u=n(91261),l=n(11163),f=n(67294),d=n(23925),p=n(29046),h=n(88255),m=n(30909),g=n(89978),w=n(601),x=n(98513),y=n(98387),v=n(24497),b=n(17766),j=n(14198),k=n(51017),O=n(91331),T=n(69260),P=n.n(T),E=n(98925),C=n(85893),S=function(e){var t=e.status;return(0,f.useMemo)((function(){switch(t){case"success":return(0,C.jsx)(P(),{animationData:n(74614),autoPlay:!0,loop:!1,style:{height:30,width:30,flexShrink:0}});case"error":return(0,C.jsx)(O.Z,{width:20,height:20,color:p.Rl.ERROR});case"unknown":return(0,C.jsx)(E.g4,{width:30,height:30,color:p.Rl.WARNING});case"pending":case"initial":return(0,C.jsx)(E.g4,{width:30,height:30,color:p.Rl.white});default:return null}}),[t])},R=n(49925);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var N=(0,d.default)((function(e){return(0,C.jsx)(u.kC,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))})).withConfig({displayName:"PendingTransaction__Wrapper",componentId:"sc-1qgos43-0"})(["padding:16px;margin:16px 0;border-radius:16px;background-color:",";justify-content:space-between;width:100%;"],(0,h.F)(.15,p.Rl.white)),A=function(e){var t,n=e.amount,o=e.asset,i=e.context,d=(0,f.useState)(null),h=d[0],O=d[1],T=(0,f.useState)(0)[1],P=(0,b.e)(),E=(0,f.useRef)(!1),F=(0,j.LN)("network"),A=(0,a.Z)(F,1)[0],I=(0,l.useRouter)(),_=(0,f.useState)(!1),D=_[0],L=_[1],z=(0,f.useState)(null),Z=z[0],B=z[1],M=(0,f.useState)((function(){return"error"===e.broadcastType?"":e.txId})),q=M[0],U=M[1],H=(0,f.useCallback)((function(){Z&&I.push("/transactions?txId=".concat(q,"&asset=").concat(o.symbol))}),[Z,A]),Y=(0,f.useCallback)((function(){if("error"===e.broadcastType)return null;null!==e.speedUpTx&&e.speedUpTx((function(e){B(null),O(null),U(e.hash)}))}),[e]),V=(0,f.useCallback)((function(){if("error"===e.broadcastType)return null;null!==e.cancelTx&&e.cancelTx((function(e){B(null),O(null),U(e.hash)}))}),[e]),W=(0,f.useMemo)((function(){return(0,v.n)(e.asset,30)}),[e.asset]);(0,f.useEffect)((function(){if("error"!==e.broadcastType&&!h&&""!==q&&q){var t=null,n=function(){var e=(0,r.Z)(s().mark((function e(){var r,a,i,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E.current){e.next=2;break}return e.abrupt("return");case 2:if(P){e.next=4;break}throw new Error("should have client");case 4:return e.prev=4,e.next=7,P.getAddressFromAsset(A,o);case 7:return a=e.sent,L(!0),e.next=11,P.getTransactionData(A,o,q,a);case 11:i=e.sent,c=(0,y.T)(i,a),B(c),(null!==(r=c.confirmations)&&void 0!==r?r:0)>0&&(null===(u=k.x2.current)||void 0===u||u.notifyTransactionGotConfirmed()),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),T((function(e){return 40===e?(O("Follow Tx Explorer for more details"),40):(t=setTimeout((function(){n()}),7500),e+1)})),console.log("Could not find broadcasted tx",{err:e.t0,txId:q});case 21:return e.prev=21,L(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[4,17,21,24]])})));return function(){return e.apply(this,arguments)}}();return n(),function(){t&&clearTimeout(t)}}}),[o,P,h,e.broadcastType,q,A]),(0,f.useEffect)((function(){return E.current=!1,function(){E.current=!0}}),[]);var X=null!==(t=null===Z||void 0===Z?void 0:Z.confirmations)&&void 0!==t?t:0,G=""!==q&&!h&&"error"!==e.broadcastType&&0===X;return(0,C.jsxs)(u.kC,{flexFlow:"column nowrap",style:{width:"100%",marginBottom:16},children:[(0,C.jsxs)(N,{children:[(0,C.jsxs)(u.kC,{flexFlow:"column nowrap",children:[(0,C.jsxs)(u.kC,{justifyContent:"flex-start",children:[(0,C.jsx)(R.L,{firstLogo:W.logo,secondLogo:null}),(0,C.jsxs)(m.VY,{size:"s",children:[(0,w.q8)(n,e.asset,5)," "]})]}),"error"===e.broadcastType?(0,C.jsxs)(u.kC,{flexFlow:"column nowrap",children:[(0,C.jsx)(m.VY,{size:"xs",color:p.Rl.ERROR,margin:"16px 0 0",children:"Could not broadcast transaction"}),(0,C.jsx)(m.VY,{size:"xs",color:p.Rl.TRANSPARENT_WHITE,children:(0,x.h)(e.error)})]}):h?(0,C.jsxs)(u.kC,{flexFlow:"column nowrap",children:[(0,C.jsx)(m.VY,{size:"xs",color:p.Rl.WARNING,margin:"16px 0 0",children:"Unknown transaction status"}),(0,C.jsx)(m.VY,{size:"xs",color:p.Rl.TRANSPARENT_WHITE,children:h})]}):Z?(0,C.jsx)(u.kC,{children:(0,C.jsx)(m.VY,{size:"xs",children:"history"===i?"On blockchain":"Transaction broadcasted"})}):""!==q?(0,C.jsx)(u.kC,{flexFlow:"column nowrap",children:(0,C.jsxs)(u.kC,{children:["history"===i?(0,C.jsx)(m.VY,{size:"xs",color:p.Rl.TRANSPARENT_WHITE,children:"Checking..."}):null,"just-sent"===i?(0,C.jsxs)(m.VY,{size:"xs",color:p.Rl.TRANSPARENT_WHITE,children:[D?"Looking on node...":"Broadcasted","..."]}):null]})}):null]}),""===q?null:"error"===e.broadcastType?(0,C.jsx)(S,{status:"error"}):h?(0,C.jsx)(S,{status:"unknown"}):Z?(0,C.jsx)(c.Z,{width:20,height:20,fill:p.Rl.TRANSPARENT_WHITE}):(0,C.jsx)(S,{status:"pending"})]}),(0,C.jsxs)(u.kC,{justifyContent:"space-between",children:["not-error"===e.broadcastType&&q?(0,C.jsx)("a",{href:(0,g.a)({asset:e.asset,network:A,tx:q}).url,target:"__blank",children:(0,C.jsx)(u.Yz,{bgc:p.Rl.disabledButton,color:p.Rl.white,style:{border:"1px solid ".concat(p.Rl.white)},children:X?"View Transaction":"Follow Transaction"})}):null,G&&"not-error"===e.broadcastType&&e.speedUpTx?(0,C.jsx)(u.Yz,{onClick:Y,bgc:p.Rl.disabledButton,color:p.Rl.white,style:{border:"1px solid ".concat(p.Rl.white),alignSelf:"flex-start"},children:"Speed up"}):null,G&&"not-error"===e.broadcastType&&e.cancelTx?(0,C.jsx)(u.Yz,{onClick:V,bgc:p.Rl.disabledButton,color:p.Rl.white,style:{border:"1px solid ".concat(p.Rl.white),alignSelf:"flex-start"},children:"Cancel"}):null]}),Z&&(0,C.jsx)(u.Yz,{onClick:function(){return H()},style:{marginTop:24},children:"Transaction Details"})]})}},75204:function(e,t,n){n.d(t,{_:function(){return w}});var r=n(91261),a=n(67294),o=n(23925),i=n(29046),s=n(30909),c=n(24497),u=n(59499),l=n(89223),f=n(85893);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){return(0,f.jsx)(r.kC,{flexFlow:"column nowrap",style:{width:"100%"},children:e.txs.map((function(e){var t;return(0,f.jsx)(l.o,p({},p({context:"just-sent",amount:e.amount,asset:null!==(t=e.transactionAsset)&&void 0!==t?t:e.balance.asset},"error"===e.broadcastType?{broadcastType:"error",error:e.error}:{broadcastType:"not-error",txId:e.tx.txHash,speedUpTx:e.tx.speedUpTx,cancelTx:e.tx.cancelTx})),e.balance.asset.ticker)}))})},m=n(49925),g=(0,o.default)(r.kC).withConfig({displayName:"PendingTransactionSummary__Wrapper",componentId:"sc-5mhrmu-0"})(["flex-flow:column nowrap;border-radius:16px;padding:16px;background:rgba(255,255,255,0.15);width:100%;align-items:center;margin:0;"]),w=function(e){var t=e.pendingTransactionId,n=e.txs,r=e.assets;if(0===r.length)throw new Error("expected to have at least 1 asset in pending tx summary");var o=(0,a.useMemo)((function(){return(0,c.n)(r[0],32)}),[r]),u=(0,a.useMemo)((function(){return r[1]?(0,c.n)(r[1],32):void 0}),[r]),l=(0,a.useMemo)((function(){switch(t){case"add-liquidity-symmetrically":return"Adding liquidity symmetrically";case"add-liquidity-asymmetrically":return"Adding liquidity asymmetrically";case"simple-swap":case"double-swap":return"Swapping currencies";case"send":return"Sending funds";case"withdrawing-only-rune":case"withdrawing-only-asset":case"withdrawing-rune-and-asset":return"Withdrawing Liquidity";case"pending-deposit-withdraw-asset":case"pending-deposit-withdraw-rune":case"pending-deposit-withdraw-rune-and-asset":return"Pending Deposit: withdrawing liquidity";case"pending-deposit-add-asset":case"pending-deposit-add-rune":return"Pending Deposit: adding liquidity";case"add-stake":return"Staking TGT";case"withdraw-stake":return"Withdrawing TGT";case"harvest-stake":return"Harvesting TGT";case"approve-contract":return"Approving Contract";default:return""}}),[t]);return(0,f.jsxs)(g,{children:[(0,f.jsx)(m.L,{firstLogo:o.logo,secondLogo:null===u||void 0===u?void 0:u.logo}),(0,f.jsx)(s.d8,{center:!0,size:"s",children:"Pending Transactions"}),(0,f.jsx)(s.VY,{size:"s",center:!0,color:i.Rl.TRANSPARENT_WHITE,margin:"0",children:l}),(0,f.jsx)(h,{txs:n})]})}},28809:function(e,t,n){n.d(t,{N:function(){return ve}});var r,a=n(50029),o=n(17674),i=n(87794),s=n.n(i),c=n(91261),u=n(67294),l=n(15190),f=n(44908),d=n.n(f),p=n(47257),h=function(e){var t=e.actions;return 0===t.length?[]:d()(t.map((function(e){return"swap"!==e.type?null:e.in.map((function(e){return e.txID}))})).flat(1).filter(p.y))},m=n(41718),g=n(24006),w=n(17766),x=n(13071),y=n(14198),v=n(12895),b=n(67926),j=n(30909),k=n(20405),O=n(7739),T=n.n(O),P=n(89734),E=n.n(P),C=n(55030),S=n(87263),R=n(48771),F=n(44431),N=n.n(F),A=n(13395),I=n(96646),_=n(22044),D=n(89223),L=n(85893),z=function(e){var t=e.coin,n=e.txId,r=e.context,a=(0,u.useMemo)((function(){return(0,_.U)(t.asset)}),[t.asset]),o=(0,u.useMemo)((function(){return(0,R.Bo)((0,A.X)(new(N())(t.amount),I.kX))}),[t.amount]);return(0,L.jsx)(D.o,{broadcastType:"not-error",txId:n,asset:a,amount:o,context:r,cancelTx:null,speedUpTx:null})},Z=n(601),B=n(24497),M=function(e){var t=e.coin,n=(0,R.Bo)((0,A.X)(new(N())(t.amount),I.kX)),r=(0,u.useMemo)((function(){return(0,_.U)(t.asset)}),[t.asset]),a=(0,u.useMemo)((function(){return(0,B.n)(r,20)}),[r]);return(0,L.jsxs)(c.kC,{alignItems:"center",children:[a.logo,(0,L.jsxs)(j.FE,{size:"s",margin:"0 8px",children:[(0,Z.Ay)(n,5)," ",r.ticker]})]})},q=n(29046),U=n(6043);function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}var Y,V=function(e){return u.createElement("svg",H({"aria-hidden":"true","data-prefix":"far","data-icon":"donate",className:"donate_svg__svg-inline--fa donate_svg__fa-donate donate_svg__fa-w-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),r||(r=u.createElement("path",{fill:"currentColor",d:"m225.6 232.3 50.1 14.3c3.6 1 6.1 4.4 6.1 8.1 0 4.6-3.8 8.4-8.4 8.4h-32.8c-3.6 0-7.1-.8-10.3-2.2-4.8-2.2-10.4-1.7-14.1 2l-17.5 17.5c-5.3 5.3-4.7 14.3 1.5 18.4 9.5 6.3 20.4 10.1 31.8 11.5V328c0 8.8 7.2 16 16 16h16c8.8 0 16-7.2 16-16v-17.6c30.3-3.6 53.4-31 49.3-63-2.9-23-20.7-41.3-42.9-47.7l-50.1-14.3c-3.6-1-6.1-4.4-6.1-8.1 0-4.6 3.8-8.4 8.4-8.4h32.8c3.6 0 7.1.8 10.3 2.2 4.8 2.2 10.4 1.7 14.1-2l17.5-17.5c5.3-5.3 4.7-14.3-1.5-18.4-9.5-6.3-20.4-10.1-31.8-11.5V104c0-8.8-7.2-16-16-16h-16c-8.8 0-16 7.2-16 16v17.6c-30.3 3.6-53.4 31-49.3 63 2.9 23 20.6 41.3 42.9 47.7zM480 320h-34.7c17-30.9 26.7-66.3 26.7-104C472 96.7 375.3 0 256 0S40 96.7 40 216c0 37.7 9.7 73.1 26.7 104H32c-17.7 0-32 17.2-32 38.4v115.2C0 494.8 14.3 512 32 512h448c17.7 0 32-17.2 32-38.4V358.4c0-21.2-14.3-38.4-32-38.4zM256 48c92.6 0 168 75.4 168 168s-75.4 168-168 168S88 308.6 88 216 163.4 48 256 48zm208 416H48v-96h54.6c12.2 12.3 25.9 22.9 40.7 32H104c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8h-39.3c14.8-9.1 28.5-19.7 40.7-32H464v96z"})))};function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}var X,G=function(e){return u.createElement("svg",W({"aria-hidden":"true","data-prefix":"fas","data-icon":"exchange",className:"exchange-solid_svg__svg-inline--fa exchange-solid_svg__fa-exchange exchange-solid_svg__fa-w-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),Y||(Y=u.createElement("path",{fill:"currentColor",d:"M0 168v-16c0-13.255 10.745-24 24-24h381.97l-30.467-27.728c-9.815-9.289-10.03-24.846-.474-34.402l10.84-10.84c9.373-9.373 24.568-9.373 33.941 0l82.817 82.343c12.497 12.497 12.497 32.758 0 45.255l-82.817 82.343c-9.373 9.373-24.569 9.373-33.941 0l-10.84-10.84c-9.556-9.556-9.341-25.114.474-34.402L405.97 192H24c-13.255 0-24-10.745-24-24zm488 152H106.03l30.467-27.728c9.815-9.289 10.03-24.846.474-34.402l-10.84-10.84c-9.373-9.373-24.568-9.373-33.941 0L9.373 329.373c-12.497 12.497-12.497 32.758 0 45.255l82.817 82.343c9.373 9.373 24.569 9.373 33.941 0l10.84-10.84c9.556-9.556 9.341-25.113-.474-34.402L106.03 384H488c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"})))},J=n(67260),K=n(14864);function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}var Q,ee=function(e){return u.createElement("svg",$({"aria-hidden":"true","data-prefix":"fas","data-icon":"long-arrow-alt-down",className:"receive_svg__svg-inline--fa receive_svg__fa-long-arrow-alt-down receive_svg__fa-w-8",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},e),X||(X=u.createElement("path",{fill:"currentColor",d:"M168 345.941V44c0-6.627-5.373-12-12-12h-56c-6.627 0-12 5.373-12 12v301.941H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.569 9.373 33.941 0l86.059-86.059c15.119-15.119 4.411-40.971-16.971-40.971H168z"})))};function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}var ne,re=function(e){return u.createElement("svg",te({"aria-hidden":"true","data-prefix":"far","data-icon":"undo-alt",className:"refund_svg__svg-inline--fa refund_svg__fa-undo-alt refund_svg__fa-w-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),Q||(Q=u.createElement("path",{fill:"currentColor",d:"M28.485 28.485 80.65 80.65C125.525 35.767 187.515 8 255.999 8 392.66 8 504.1 119.525 504 256.185 503.9 393.067 392.905 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.353-12.561-.482-17.433l19.738-19.738c4.498-4.498 11.753-4.785 16.501-.552C160.213 433.246 205.895 452 256 452c108.321 0 196-87.662 196-196 0-108.321-87.662-196-196-196-54.163 0-103.157 21.923-138.614 57.386l54.128 54.129c7.56 7.56 2.206 20.485-8.485 20.485H20c-6.627 0-12-5.373-12-12V36.971c0-10.691 12.926-16.045 20.485-8.486z"})))},ae=n(37310);function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}var ie=function(e){return u.createElement("svg",oe({"aria-hidden":"true","data-prefix":"far","data-icon":"chevron-double-up",className:"upgrade_svg__svg-inline--fa upgrade_svg__fa-chevron-double-up upgrade_svg__fa-w-14",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),ne||(ne=u.createElement("path",{fill:"currentColor",d:"m6.1 422.3 209.4-209.4c4.7-4.7 12.3-4.7 17 0l209.4 209.4c4.7 4.7 4.7 12.3 0 17l-19.8 19.8c-4.7 4.7-12.3 4.7-17 0L224 278.4 42.9 459.1c-4.7 4.7-12.3 4.7-17 0L6.1 439.3c-4.7-4.7-4.7-12.3 0-17zm0-143 19.8 19.8c4.7 4.7 12.3 4.7 17 0L224 118.4l181.1 180.7c4.7 4.7 12.3 4.7 17 0l19.8-19.8c4.7-4.7 4.7-12.3 0-17L232.5 52.9c-4.7-4.7-12.3-4.7-17 0L6.1 262.3c-4.7 4.7-4.7 12.3 0 17z"})))},se=function(e){var t=e.type,n=e.size;return"exchange"===t?(0,L.jsx)(G,{style:{height:n,width:n},color:q.Rl.SECONDARY}):"refund"===t?(0,L.jsx)(re,{style:{height:n,width:n},color:q.Rl.SECONDARY}):"add"===t?(0,L.jsx)(K.Z,{style:{height:n,width:n},color:q.Rl.SECONDARY}):"remove"===t?(0,L.jsx)(J.Z,{style:{height:n,width:n},color:q.Rl.SECONDARY}):"upgrade"===t?(0,L.jsx)(ie,{style:{height:n,width:n},color:q.Rl.SECONDARY}):"donate"===t?(0,L.jsx)(V,{style:{height:n,width:n},color:q.Rl.SECONDARY}):"send"===t?(0,L.jsx)(ae.Z,{style:{height:n,width:n},fill:q.Rl.SECONDARY}):"receive"===t?(0,L.jsx)(ee,{style:{height:n,width:n},color:q.Rl.SECONDARY}):null},ce=function(e){var t=e.action,n=(0,u.useMemo)((function(){return(0,U.V)(t)}),[t]),r=n.title,a=n.subtitle,o=n.icon;return(0,L.jsxs)(c.kC,{flexFlow:"column nowrap",children:[(0,L.jsxs)(c.kC,{alignItems:"center",children:[(0,L.jsx)(se,{size:16,type:o}),(0,L.jsx)(j.d8,{size:"m",center:!0,color:q.Rl.SECONDARY,margin:"0 8px",children:r})]}),(0,L.jsx)(c.kC,{children:(0,L.jsx)(j.VY,{center:!0,size:"s",color:q.Rl.TRANSPARENT_WHITE,children:a})})]})},ue=n(59499),le=n(23925),fe=n(26036),de=n(31423);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var he=(0,le.default)((function(e){return(0,L.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){(0,ue.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))})).withConfig({displayName:"MidgardTxMetadata__HorizontalDivider",componentId:"sc-150np6a-0"})(["width:calc(100% + 48px);height:1px;background:",";margin:10px -24px;"],q.Rl.disabledButton),me=function(e){var t=e.midgardAction;if("swap"===t.type){var n=t.metadata.swap,r=n.liquidityFee,a=n.swapSlip,o=n.networkFees;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(he,{}),(0,L.jsx)(de.e,{title:"Slippage",data:(0,L.jsxs)(j.FE,{size:"xs",margin:"0",whiteSpace:"wrap",children:[(Number(a)/100).toFixed(2),"%"]})}),(0,L.jsx)(de.e,{title:"Liquidity Fee",data:(0,L.jsx)(M,{coin:{amount:r,asset:"THOR.RUNE"}})}),o.map((function(e){return(0,L.jsx)(de.e,{title:"Network fee",data:(0,L.jsx)(M,{coin:e})},JSON.stringify(e))}))]})}if("refund"===t.type){var i=t.metadata.refund.networkFees;return(0,L.jsx)(c.kC,{alignItems:"center",children:i.map((function(e){return(0,L.jsx)(de.e,{title:"Network fee",data:(0,L.jsx)(M,{coin:e})},JSON.stringify(e))}))})}if("addLiquidity"===t.type){var s,u=null===(s=t.metadata.addLiquidity)||void 0===s?void 0:s.liquidityUnits;return u?(0,L.jsx)(de.e,{title:"LP units received",data:(0,fe.Y)(String(Math.abs(Number(u))),{separator:",",forceAtLeastTwoDigits:!1})}):null}if("withdraw"===t.type){var l=t.metadata.withdraw,f=l.networkFees,d=l.liquidityUnits,p=l.impermanentLossProtection,h=l.basisPoints;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(he,{style:{backgroundColor:"rgba(255, 255, 255, 0.1)"}}),(0,L.jsxs)(c.kC,{alignItems:"flex-start",flexFlow:"column",style:{marginTop:4},children:[(0,L.jsx)(de.e,{title:"Stake withdrawn",data:Number(h)/100+"%"}),(0,L.jsx)(de.e,{title:"Impermanent loss\ncompensation",data:(0,L.jsx)(M,{coin:{amount:p,asset:"THOR.RUNE"}})}),(0,L.jsx)(de.e,{title:"LP units removed",data:(0,fe.Y)(Math.abs(Number(d)),{forceAtLeastTwoDigits:!1,separator:","})}),f.map((function(e){return(0,L.jsx)(de.e,{title:"Network fee",data:(0,L.jsx)(M,{coin:e})},JSON.stringify(e))}))]})]})}return null},ge=function(e,t){var n=e.network,r=e.txId,o=e.setRefreshing,i=e.context,f=e.initialInfo,d=(0,u.useState)(f),m=d[0],g=d[1],w=(0,u.useState)((function(){return Date.now()})),x=w[0],y=w[1],v=(0,u.useCallback)((0,a.Z)(s().mark((function e(){var t,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),g(null),e.next=5,(0,C._W)(n,r);case 5:return t=e.sent,a=h(t),i=[],e.prev=8,e.next=11,Promise.all(a.map((function(e){return(0,l.c)(n,e)})));case 11:i=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.log("MidgardTXInfo.tsx Failed to getThornodeTxByHash with error",e.t0);case 17:g({midgard:t,outgoingTxInfo:i}),y(Date.now()),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(0),(0,S.z5)({content:e.t1.message,duration:2e3,severity:"error"});case 24:return e.prev=24,o(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,21,24,27],[8,14]])}))),[n,o,r]);(0,u.useImperativeHandle)(t,(function(){return{refresh:v}}),[v]);var O=(0,u.useMemo)((function(){return null===m?null:(0,k.k)(m.midgard)}),[m]),P=(0,u.useMemo)((function(){return null===m?null:function(e){for(var t=e.actions.map((function(e){return"swap"!==e.type&&"addLiquidity"!==e.type?null:e.in})).flat(1).filter(p.y),n=T()(t,(function(e){return e.txID})),r=0,a=Object.values(n);r<a.length;r++){var o=a[r].map((function(e){return e.coins})).flat(1);if(!(o.length<2))return E()(o,(function(e){return Number(e.amount)}))[0]}return null}(m.midgard)}),[m]);return(0,L.jsxs)(c.kC,{flexFlow:"column nowrap",style:{width:"100%"},children:[O?O.actions.map((function(e){var t=Number(e.date)/1e6;return(0,L.jsxs)(c.kC,{flexFlow:"column nowrap",style:{width:"100%",marginTop:12},children:[(0,L.jsx)(ce,{action:e}),(0,L.jsx)(de.e,{title:"Time",data:(0,L.jsx)(j.FE,{size:"s",children:(0,b.Z)(t,x,{addSuffix:!0,includeSeconds:!0})})}),e.in.length>0?(0,L.jsx)(j.FE,{size:"xs",margin:"4px 0",children:"Outgoing transactions"}):null,e.in.map((function(e){return(0,L.jsx)(c.kC,{flexFlow:"column nowrap",children:e.coins.map((function(t){return(0,L.jsx)(z,{coin:t,txId:e.txID,context:i},e.txID+t.asset)}))},JSON.stringify(e))})),e.out.length>0?(0,L.jsx)(j.FE,{size:"xs",margin:"4px 0",children:"Incoming transactions"}):null,e.out.map((function(e){return(0,L.jsx)(c.kC,{children:e.coins.map((function(t){return(0,L.jsx)(z,{coin:t,txId:e.txID,context:i},e.txID+t.asset)}))},JSON.stringify(e))})),(0,L.jsx)(me,{midgardAction:e})]},JSON.stringify(e))})):null,null!==P?(0,L.jsx)(de.e,{title:"Affiliate Fee",data:(0,L.jsx)(M,{coin:P})}):null,null===m||void 0===m?void 0:m.outgoingTxInfo.map((function(e){var t=e.observed_tx.tx.gas;return null===t||void 0===t?void 0:t.map((function(t){return(0,L.jsx)(de.e,{title:"Gas fee",data:(0,L.jsx)(M,{coin:t})},JSON.stringify(e)+JSON.stringify(t))}))}))]})},we=(0,u.forwardRef)(ge),xe=n(75204),ye=function(e){var t=e.hash,n=e.onMidgardFound,r=(0,y.LN)("network"),a=(0,o.Z)(r,1)[0];return(0,u.useEffect)((function(){if(t){var e=null,r=function r(){var o=function(){e=setTimeout((function(){r()}),4e3)};e=null,(0,C._W)(a,"0x"===t.substr(0,2)?t.substring(2):t).then((function(e){null!==e&&void 0!==e&&e.actions.length?n(e):o()})).catch((function(e){console.log("Could not fetch midgard",{err:e}),o()}))};return e=setTimeout((function(){r()}),4e3),function(){e&&clearTimeout(e)}}}),[t,a,n]),(0,L.jsx)(c.kC,{flexFlow:"column nowrap",alignItems:"center",children:t?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(j.FE,{size:"xs",children:"Details will appear after 1 confirmation"}),(0,L.jsx)(j.FE,{size:"xs",margin:"0",children:"You can leave this screen."})]}):(0,L.jsx)(j.FE,{size:"xs",color:q.Rl.NEGATIVE,children:"No hash available."})})},ve=function(e){var t,n=e.routeTxs,r=e.action,i=e.shouldTransitionToMidgardStats,f=e.type,d=e.from,b=e.to,j=e.poolAsset,k=e.rune,O=(e.assetToApprove,(0,u.useState)(!1)[1]),T=(0,y.LN)("network"),P=(0,o.Z)(T,1)[0],E=(0,v.$)("phrase"),C=(0,o.Z)(E,1)[0],S=(0,x.C)().updateTx,R=(0,u.useState)(!1),F=R[0],N=R[1],A=(0,w.e)();(0,u.useEffect)((function(){n&&A&&C&&(0,g.YQ)(A,n.map((function(e){return e.balance.asset.chain})),C,P,0)}),[A,P,C,n]);var I=(0,u.useMemo)((function(){if("send"===f)return[d];if("pooling"===f)return[j,k];if("swap"===f)return[d,b];if("staking"===f)return[d];if("harvest"===f)return[d];if("withdraw"===f)return[d];if("claim"===f)return[(0,m.g)(P)];throw new Error("Params in Pending tx screen are wrong")}),[P]),_=(0,u.useCallback)(function(){var e=(0,a.Z)(s().mark((function e(t){var n,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=h(t),r=t.actions.some((function(e){var t=e.status,n=e.type;return"success"===t&&"refund"===n})),r?z.forEach((function(e){return S(e,{state:{state:"refound"},receiveDate:new Date,network:P})})):z.forEach((function(e){return S(e,{sendDate:new Date,network:P})})),e.next=6,Promise.all(n.map((function(e){return(0,l.c)(P,e)})));case 6:a=e.sent,N({midgard:t,outgoingTxInfo:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Failed to fetch from Thornode.",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),[P]),D=n[0],z=(0,u.useMemo)((function(){return n.map((function(e){return"error"===e.broadcastType?null:e.tx.txHash})).filter(p.y)}),[n]);return(0,L.jsxs)(c.kC,{flexFlow:"column nowrap",style:{width:"100%"},children:[F&&"not-error"===D.broadcastType?(0,L.jsx)(we,{network:P,setRefreshing:O,txId:z[0],context:"just-sent",initialInfo:F}):(0,L.jsx)(xe._,{txs:n,assets:I,pendingTransactionId:r}),i&&"error"!==D.broadcastType&&!F&&(0,L.jsx)(ye,{hash:null!==(t=z[0])&&void 0!==t?t:null,onMidgardFound:_})]})}},49925:function(e,t,n){n.d(t,{L:function(){return o}});var r=n(91261),a=n(85893),o=function(e){var t=e.firstLogo,n=e.secondLogo,o=e.opacityFirstLogo,i=void 0===o?1:o,s=e.opacitySecondLogo,c=void 0===s?1:s;return(0,a.jsxs)(r.kC,{flexFlow:"row nowrap",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(r.kC,{style:{opacity:i,marginRight:16},children:t}),n?(0,a.jsx)(r.kC,{style:{opacity:c},children:n}):null]})}},20405:function(e,t,n){n.d(t,{k:function(){return O}});var r=n(83618),a=n(90116),o=n(17674),i=n(59499),s=n(44431),c=n.n(s),u=n(45578),l=n.n(u),f=n(54517),d=n(42099);function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){return[e.date,e.height,e.pools.join("-"),e.status,e.type].join("-")},x=function(e){return[e.address+e.txID].join("-")},y=function(e){var t=e[0];return t?[{asset:t.asset,amount:String(e.map((function(e){return Number(e.amount)})).reduce((function(e,t){return e+t}),0))}]:[]},v=function(e){return g(g({},e[0]),{},{coins:y(l()(e.map((function(e){return e.coins})).flat(1),(function(e){return[e.amount,e.asset].join("-")})))})},b=function(e){var t,n=[],r=p(e);try{var a=function(){var e=t.value;n.find((function(t){return(0,o.Z)(t,1)[0]===x(e)}))||n.push([x(e),[]]);var r=n.find((function(t){return(0,o.Z)(t,1)[0]===x(e)}));if(!r)throw new Error("some kind of error");r[1].push(e),r[1]=[v(r[1])]};for(r.s();!(t=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}return n.map((function(e){return e[1]})).flat(1)},j=function(e,t){return g(g(g({},e),function(e,t){if(e.type!==t.type)throw new Error("mismatched types");if("swap"===e.type){if("swap"!==t.type)throw new Error("makes no sense");return{metadata:{swap:{networkFees:e.metadata.swap.networkFees,swapTarget:new(c())(e.metadata.swap.swapTarget).plus(t.metadata.swap.swapTarget).toString(),liquidityFee:new(c())(e.metadata.swap.liquidityFee).plus(t.metadata.swap.liquidityFee).toString(),swapSlip:new(c())(e.metadata.swap.swapSlip).plus(t.metadata.swap.swapSlip).toString()}},type:e.type}}if("donate"===e.type||"switch"===e.type)return{type:e.type};if("refund"===e.type)return{type:e.type,metadata:e.metadata};if("addLiquidity"===e.type)return{type:e.type,metadata:e.metadata};if("withdraw"===e.type)return{type:e.type,metadata:e.metadata};throw new Error("unknown action: "+JSON.stringify(e))}(e,t)),{},{out:b([].concat((0,a.Z)(e.out),(0,a.Z)(t.out))),in:b([].concat((0,a.Z)(e.in),(0,a.Z)(t.in)))})},k=function e(t){if(1===t.length)return t[0];if(2===t.length)return j(t[0],t[1]);var n=(0,r.Z)(t),o=n[0],i=n[1],s=n.slice(2);return e([j(o,i)].concat((0,a.Z)(s)))},O=function(e){var t=function(e){var t,n=[],r=p(e);try{var a=function(){var e=t.value;n.find((function(t){return(0,o.Z)(t,1)[0]===w(e)}))||n.push([w(e),[]]);var r=n.find((function(t){return(0,o.Z)(t,1)[0]===w(e)}));if(!r)throw new Error("could not reorganize");r[1].push(e),r[1]=[k(r[1])]};for(r.s();!(t=r.n()).done;)a()}catch(i){r.e(i)}finally{r.f()}return n.map((function(e){return e[1]})).flat(1)}(e.actions).map((function(e){return g(g({},t=e),{},{in:t.in.filter((function(e){return e.address!==(0,d.G)(f.Z.Mainnet)&&e.address!==(0,d.G)(f.Z.Testnet)}))});var t}));return{actions:t,count:String(t.length)}}},98513:function(e,t,n){n.d(t,{h:function(){return r}});var r=function(e){var t,n,r;if(!e)return"";if(e.message){var a=/message(.*?)\}\}/.exec(e.message);if(a&&a.length>0){var o,i=null===(o=a[0])||void 0===o?void 0:o.replace('message\\":\\"',"").replace('\\"}}',"");i&&i.length>0&&(r=i)}}return null!==(t=null!==(n=r)&&void 0!==n?n:e.message)&&void 0!==t?t:function(e){return"string"===typeof e&&e.includes("/thorchain/")?"THORChain node seems to be down. Try again later.":null!==e?"Url: ".concat(e.url,", status: ").concat(e.status):"Something went wrong. Try again later."}(e)}},99590:function(e,t,n){n.d(t,{r:function(){return u}});var r=n(48771),a=n(44431),o=n.n(a),i=n(80826),s=n(2129),c=n(167),u=function(e){var t=e.fee,n=e.feeOptionKey,a=e.getPrice,u=e.gasPrices,l=e.inboundAddresses;if("success"!==t.state)throw new Error("expected to have fetched fees");if("send"===t.type||"erc-20"===t.type||"upgrade-rune"===t.type){var f=(0,s.VQ)({fee:t.feeTx,feeOptionKey:n,gasPrices:u}),d=f.amount,p=f.asset;return d.times(a.get(p).assetPriceUSD).amount()}if("withdraw"===t.type){var h=(0,s.f$)({feeOptionKey:n,feeTx:t.transactionFee,gasPrices:u,getPrice:a}).fiat;return t.assetNetworkFee&&(h=h.plus((0,s.f$)({feeOptionKey:n,feeTx:t.assetNetworkFee,gasPrices:(0,i.i)(l,"eth-fees"===t.assetNetworkFee.type?r.qo.Ethereum:t.assetNetworkFee.asset.chain),getPrice:a}).fiat)),t.runeNetworkFee&&(h=h.plus((0,s.f$)({feeOptionKey:n,feeTx:t.runeNetworkFee,gasPrices:(0,i.i)(l,r.qo.THORChain),getPrice:a}).fiat)),h}if("add-liquidity"===t.type){var m=new(o())(0);if(t.rune){var g=(0,s.f$)({feeTx:t.rune,feeOptionKey:n,gasPrices:u,getPrice:a}).fiat,w=t.runeAffiliateFee?a.get((0,c.T)()).assetPriceUSD.times(t.runeAffiliateFee.amount()):0;m=m.plus(g).plus(w)}if(t.asset){var x=(0,s.f$)({feeTx:t.asset,feeOptionKey:n,gasPrices:u,getPrice:a}).fiat,y=t.assetAffiliateFee?a.get(t.poolAsset).assetPriceUSD.times(t.assetAffiliateFee.amount()):0;m=m.plus(x).plus(y)}return m}if("swap"===t.type){var v=(0,s.VQ)({fee:t.feeTx,feeOptionKey:n,gasPrices:u}),b=v.amount,j=v.asset,k=(0,s.VQ)({fee:t.networkFee,feeOptionKey:n,gasPrices:(0,i.i)(l,"eth-fees"===t.networkFee.type?r.qo.Ethereum:t.networkFee.asset.chain)}),O=k.amount,T=k.asset,P=b.amount().times(a.get(j).assetPriceUSD),E=O.times(a.get(T).assetPriceUSD),C=t.affiliateFee.amount().times(a.get(t.affiliateFeeAsset).assetPriceUSD);return P.plus(E.amount()).plus(C)}throw new Error("did not handle fee type "+JSON.stringify(t))}},6043:function(e,t,n){n.d(t,{V:function(){return l}});var r=n(48771),a=n(44431),o=n.n(a),i=n(13395),s=n(96646),c=n(601),u=n(22044),l=function(e,t){if("refund"===e.type)return{title:"Refunded",icon:"refund",subtitle:e.metadata.refund.reason};if("swap"===e.type){var n,a=e.in.map((function(e){return e.coins})).flat(1)[0],l=e.out.map((function(e){return e.coins})).flat(1)[0],f=e.in.map((function(e){return e.address})).flat(1)[0];if(!a||!l)return{title:"Swap",icon:"exchange",subtitle:null};var d,p=(0,u.U)(a.asset),h=(0,r.Bo)((0,i.X)(new(o())(a.amount),s.kX)),m=(0,r.Bo)((0,i.X)(new(o())(l.amount),s.kX)),g=(0,u.U)(l.asset);return t&&(d=t.get(g).assetPriceUSD.times(m.amount())),{title:"Swap ".concat(p.ticker," for ").concat(g.ticker),icon:"exchange",inAmount:"".concat((0,c.Ay)(h,4)," ").concat(p.ticker),outAmount:"".concat((0,c.Ay)(m,4)," ").concat(g.ticker),usdAmount:"".concat(null===(n=d)||void 0===n?void 0:n.toFixed(2)),account:"".concat(f),date:e.date,subtitle:"".concat((0,c.Ay)(h,2)," ").concat(g.ticker," for ").concat((0,c.Ay)(m,2)," ").concat(p.ticker)}}if("addLiquidity"===e.type){var w=e.pools.map((function(e){return(0,u.U)(e)})),x=e.in.map((function(e){return e.address})).flat(1)[0],y=e.in.map((function(e){return e.coins.map((function(e){return{asset:(0,u.U)(e.asset),amount:(0,r.Bo)((0,i.X)(new(o())(e.amount),s.kX)),ticker:(0,u.U)(e.asset).ticker}}))})).flat(1)[0];if(y){var v="".concat(y.asset.ticker," to ").concat(w.map((function(e){return e.ticker})).join("/")," pool");return{title:"Add ".concat(y.ticker),icon:"add",subtitle:v,date:e.date,inAmount:"".concat((0,c.Ay)(y.amount,4)," ").concat(y.ticker),account:"".concat(x)}}return{title:"-",icon:"add",subtitle:"-",date:"-",inAmount:"-",account:"-"}}if("withdraw"===e.type){var b=e.pools.map((function(e){return(0,u.U)(e)})),j=e.out.map((function(e){return e.address})).flat(1)[0],k=e.out.map((function(e){return e.coins.map((function(e){return{amount:(0,c.Ay)((0,r.Bo)((0,i.X)(new(o())(e.amount),s.kX)),3),ticker:(0,u.U)(e.asset).ticker}}))})).flat(1)[0],O="".concat((null===k||void 0===k?void 0:k.ticker)||b[0].ticker," from ").concat(b.map((function(e){return e.ticker})).join("/")," pool");return{title:"Withdraw ".concat((null===k||void 0===k?void 0:k.ticker)||b[0].ticker),icon:"remove",subtitle:O,date:e.date,inAmount:"".concat(null===k||void 0===k?void 0:k.amount," ").concat(null===k||void 0===k?void 0:k.ticker),account:"".concat(j)}}if("donate"===e.type)return{title:"Donated liquidity",icon:"donate",subtitle:null};if("switch"===e.type){var T=e.in.map((function(e){return e.coins})).flat(1)[0],P=(0,r.Bo)((0,i.X)(new(o())(T.amount),s.kX)),E=(0,u.U)(T.asset);return{title:"Upgraded",icon:"upgrade",subtitle:"".concat((0,c.Ay)(P,1)," RUNE (").concat(E.chain,")")}}throw new TypeError("cannot parse")}},17172:function(e,t,n){n.d(t,{_:function(){return c}});var r=n(59499),a=n(48771),o=n(43138);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){return o._.post("/analytics/transactions",s(s({},e),{},{amount:(0,a.tb)(e.amount).amount().toString(),poolAsset:(0,a.rx)(e.poolAsset),fromAsset:(0,a.rx)(e.fromAsset),toAsset:e.toAsset?(0,a.rx)(e.toAsset):void 0,fromAssetPrice:e.fromAssetPrice.times(Math.pow(10,8)).toFixed(0),amountInUsd:e.amount.amount().times(e.fromAssetPrice).times(Math.pow(10,8)).toFixed(0),platform:"web",memo:e.memo}))}},74614:function(e){e.exports=JSON.parse('{"v":"5.7.5","fr":60,"ip":0,"op":90,"w":64,"h":64,"nm":"check","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"check","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[32,32,0]},"a":{"a":0,"k":[0,0,0]},"s":{"a":0,"k":[33.333,33.333,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[9.25,-6],[-2.75,6],[-9.25,-0.5]],"c":false}},"nm":"Path 1","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.461],"y":[1]},"o":{"x":[0.466],"y":[0]},"t":44,"s":[100]},{"t":90,"s":[0]}]},"e":{"a":0,"k":100},"o":{"a":0,"k":0},"m":1,"nm":"Trim Paths 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.12156862745098039,0.8352941176470589,0.5333333333333333,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":3},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[350,350]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"check","bm":0,"hd":false}],"ip":0,"op":90,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"circle","sr":1,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[32,32,0]},"a":{"a":0,"k":[0,0,0]},"s":{"a":0,"k":[33.333,33.333,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[53,53]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","hd":false},{"ty":"tm","s":{"a":0,"k":0},"e":{"a":1,"k":[{"i":{"x":[0.34],"y":[1]},"o":{"x":[0.66],"y":[0]},"t":0,"s":[0]},{"t":77,"s":[100]}]},"o":{"a":1,"k":[{"i":{"x":[0.34],"y":[1]},"o":{"x":[0.66],"y":[0]},"t":0,"s":[-360]},{"t":77,"s":[0]}]},"m":1,"nm":"Trim Paths 1","hd":false},{"ty":"st","c":{"a":0,"k":[0.12156862745098039,0.8352941176470589,0.5333333333333333,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":3},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0]},"a":{"a":0,"k":[0,0]},"s":{"a":0,"k":[300,300]},"r":{"a":0,"k":0},"o":{"a":0,"k":100},"sk":{"a":0,"k":0},"sa":{"a":0,"k":0},"nm":"Transform"}],"nm":"circle","bm":0,"hd":false}],"ip":0,"op":90,"st":0,"bm":0}],"markers":[]}')}}]);