(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6276],{31712:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return K}});var r=n(17674),o=n(59499),a=n(48771),i=n(50029),s=n(90116),c=n(87794),l=n.n(c),u=n(50116),d=n(72653),f=n(91261),p=n(14660),m=n(47662),b=n(96749),h=n(87256),g=n(17766),x=n(22538),w=n(67294),y=n(98613),j=n(21597),O=n(42326),v=n(14198),k=n(12895),C=n(73158),P=n(85893);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t=e.defaultFrom,n=(0,w.useState)(t),o=n[0],c=n[1],S=(0,g.e)(),D=(0,k.$)("phrase"),_=(0,r.Z)(D,1)[0],T=(0,v.LN)("network"),I=(0,r.Z)(T,1)[0],F=(0,y.L)("selectedAsset"),R=(0,r.Z)(F,2)[1],A=(0,x.Ru)(),N=(0,j.yP)(),Z=(0,w.useState)(["ETH","BTC","DAI"]),L=Z[0],W=Z[1],z=O.e.useGlobalState("modal"),M=(0,r.Z)(z,1)[0],B=(0,w.useMemo)((function(){return[{id:"crypto",ticker:o.asset.ticker,balance:o},{id:"fiat",ticker:"USD",balance:"fiat"}]}),[o]);(0,w.useEffect)((function(){c(t)}),[t]),(0,w.useEffect)((function(){var e=(0,b.F)({balances:N}).reduce((function(e,t){return[].concat((0,s.Z)(e),[t.balance.asset.ticker])}),[]),t=e.filter((function(t,n){return e.indexOf(t)==n}));e.length>0&&W(t)}),[N]);var H=(0,w.useCallback)((0,i.Z)(l().mark((function e(){var t,n,r,i,s,c,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A.isConnected){e.next=2;break}return e.abrupt("return");case 2:if(S){e.next=4;break}return e.abrupt("return");case 4:if(A.walletType!==x.Sq.Phrase||_){e.next=6;break}return e.abrupt("return");case 6:if((0,p.L9)(p.eb.ACTION_WIDGET_SELL,{fromAsset:o.asset.symbol}),n=(null===(t=N.find((function(e){return(0,m.wd)(e.balance.asset,o.asset)})))||void 0===t?void 0:t.address)||void 0,r=Math.floor(8999*Math.random())+1e3,i="MtPelerin-".concat(r),s=void 0,o.asset.chain!==a.qo.Ethereum){e.next=25;break}if(!_){e.next=21;break}return e.next=15,u.w5.fromMnemonic(_);case 15:return c=e.sent,e.next=18,c.signMessage(i);case 18:s=e.sent,e.next=25;break;case 21:if(!n){e.next=25;break}return e.next=24,S.signMessage(I,o.asset.chain,i);case 24:s=e.sent;case 25:d={addr:void 0,code:void 0,hash:void 0},s?d={addr:n,code:r,hash:(0,h.s3)((0,h.Wu)(s.replace("0x","")))}:console.log("no signature"),O.e.setGlobalState("modal",{type:"mt-pelerin-modal",rfr:"thorwallet",lang:"en",tab:"sell",tabs:"sell",crys:L,bdc:void 0,ssc:o.asset.ticker,addr:d.addr,code:d.code,hash:d.hash});case 28:case"end":return e.stop()}}),e)}))),[S,o,B,_,o.asset.ticker,L]),U=(0,w.useCallback)((function(e){c(e),R(e.asset)}),[o]);return(0,P.jsxs)(f.kC,{flexFlow:"column nowrap",style:{width:"100%"},children:[(0,P.jsx)(C.e,{from:o,onPressFrom:U}),(0,P.jsx)(f.zx,{style:{marginTop:12},disabled:!1,onClick:function(){return A.isConnected?H():void O.e.setGlobalState("modal",{type:"connect-wallet"})},withShadow:!0,children:A.isConnected?"Sell Tokens":"Connect Wallet"}),M&&"mt-pelerin-modal"===M.type&&(0,P.jsx)(d.D,E({},M))]})},_=n(79253),T=n(13395),I=n(22044),F=n(31930),R=n(98925),A=n(23101),N=n(27819),Z=n(23925),L=n(29046),W=n(30909);function z(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=(0,Z.default)((function(e){return(0,P.jsx)(f.kC,H({},e))})).withConfig({displayName:"sell__ContentWrapper",componentId:"sc-1p63juh-0"})(["width:100%;align-items:center;justify-content:center;height:calc(100vh - 100px);@media screen and (max-width:","){padding:12px;}"],L.dp.tablet),G=(0,Z.default)((function(e){return(0,P.jsx)(f.kC,H({},e))})).withConfig({displayName:"sell__WidgetWrapper",componentId:"sc-1p63juh-1"})(["width:100%;max-width:480px;background:rgba(255,255,255,0.05);border-left:2px solid rgba(255,255,255,0.1);border-top:2px solid rgba(255,255,255,0.1);border-radius:16px;padding:24px;margin-bottom:36px;"]),q=(0,Z.default)((function(e){return(0,P.jsx)(f.kC,H({},e))})).withConfig({displayName:"sell__DescriptionWrapper",componentId:"sc-1p63juh-2"})(["margin-right:50px;align-items:flex-end;flex:1;width:480px;@media screen and (max-width:","){align-items:center;width:100%;max-width:480px;padding-top:0px;}"],L.dp.tablet),Y=(0,Z.default)((function(e){return(0,P.jsx)(W.ft,H({},e))})).withConfig({displayName:"sell__IntroTitleLarge",componentId:"sc-1p63juh-3"})(["transition:all 1s ease;padding:0;margin:0;background:-webkit-linear-gradient( 225deg,rgb(35,239,184),rgb(3,207,251) );-webkit-background-clip:text;-webkit-text-fill-color:transparent;@media screen and (max-width:","){margin-top:180px;}"],L.dp.tablet),X=(0,Z.default)((function(e){return(0,P.jsx)(W.d8,H({},e))})).withConfig({displayName:"sell__IntroTitle",componentId:"sc-1p63juh-4"})(["transition:all 1s ease;margin:0;@media screen and (max-width:","){padding-top:0px;}@media screen and (max-width:","){}"],L.dp.tablet,L.dp.smallTablet),$=(0,Z.default)((function(e){return(0,P.jsx)(W.FE,H({},e))})).withConfig({displayName:"sell__IntroText",componentId:"sc-1p63juh-5"})(["transition:all 1s ease;text-align:right;margin-top:30px;color:",";@media screen and (max-width:","){text-align:left;}"],L.Rl.textDark,L.dp.tablet),J=function(){var e,t,n=(0,N.O)("poolsArray"),o=(0,r.Z)(n,1)[0],i=(0,A.o)("decimals"),s=(0,r.Z)(i,1)[0],c=(0,j.yP)(),l=(0,x.Ru)(),u=(0,F.i)().width,d=(0,I.U)(function(e,t){var n,r=z(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(e===o.asset)return o.asset}}catch(a){r.e(a)}finally{r.f()}return null}("ETH.ETH",o)||(null===(e=o[0])||void 0===e?void 0:e.asset));return(0,P.jsx)(U,{flexFlow:"row",children:(0,P.jsx)(f.kC,{alignItems:"flex-start",flexFlow:u>L.Ru.tablet?"row":"column",children:l.isConnected&&c&&c.length>1||!l.isConnected&&d.ticker?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(q,{flexFlow:"column",children:[(0,P.jsx)(Y,{size:u>L.Ru.smallTablet?"xxxxxl":"xxxxl",children:"SELL"}),(0,P.jsx)(X,{size:u>L.Ru.smallTablet?"xl":"l",children:"Sell tokens without KYC"}),(0,P.jsx)($,{size:"s",style:{marginBottom:24},children:"THORWallet has partnered with Mt Pelerin to allow you to sell tokens (off-ramp) and receive FIAT in your bank account. (limits per country apply)."}),!l.isConnected&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)($,{size:"s",style:{marginTop:0},children:"Connect to your existing wallet or create a new wallet to get started."}),(0,P.jsx)(f.zx,{style:{marginTop:24,marginBottom:36},disabled:!1,onClick:function(){return O.e.setGlobalState("modal",{type:"connect-wallet"})},withShadow:!0,children:"Connect wallet"})]})]}),(0,P.jsx)(G,{children:(0,P.jsx)(D,{defaultFrom:{asset:d,amount:(0,T.X)(1e3,null===(t=s[(0,a.rx)(d).toUpperCase()])||void 0===t?void 0:t.decimals)}})})]}):(0,P.jsx)(f.kC,{justifyContent:"center",alignItems:"center",children:(0,P.jsx)(R.CJ,{color:L.Rl.white,height:50,width:50})})})})};J.getLayout=function(e){return(0,P.jsx)(_.Z,{children:e})};var K=J},24325:function(e,t,n){"use strict";n.d(t,{u:function(){return h}});var r=n(17674),o=n(48771),a=n(44431),i=n.n(a),s=n(91261),c=n(67294),l=n(29046),u=n(30909),d=n(601),f=n(85081),p=n(26036),m=n(46383),b=n(85893),h=function(e){var t=e.balance,n=e.assetDetails,a=(0,m.L)("conversionRate"),h=(0,r.Z)(a,1)[0],g=(t.amount&&(0,f.ui)((0,o.Bo)(t.amount),n.assetPriceUSD,h),(0,c.useMemo)((function(){return t.amount.eq(new(i())(0))?"0":t.amount.gte(new(i())(1e3))?(0,p.Y)((0,d.az)(t),{forceAtLeastTwoDigits:!0,separator:","}):t.amount.amount().toFixed(2)}),[t]));return(0,b.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,b.jsxs)(u.FE,{color:l.Rl.TRANSPARENT_WHITE,size:"xs",children:["Balance: ",g," ",t.asset.ticker]})})}},73158:function(e,t,n){"use strict";n.d(t,{e:function(){return m}});var r=n(59499),o=n(91261),a=(n(67294),n(21597)),i=n(23925),s=n(15737),c=n(24325),l=n(46242),u=n(85893),d=function(e){var t=e.from,n=e.selectFrom;return(0,u.jsx)(l.N,{from:t,to:t,isFrom:!1,isBuy:!0,selectFrom:n,selectTo:n})};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=(0,i.default)((function(e){return(0,u.jsx)(o.kC,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))})).withConfig({displayName:"BuySelector__Wrapper",componentId:"sc-1a3k45m-0"})(["background:rgba(255,255,255,0.15);border-radius:16px;padding:16px;position:relative;margin-bottom:4px;max-width:480px;"]),m=function(e){var t=e.onPressFrom,n=e.from,r=(0,a.yP)(),i=(0,s.$)();if(!r)throw new Error("expected to have balances");return(0,u.jsx)(o.kC,{flexFlow:"column nowrap",children:(0,u.jsx)(p,{alignItems:"center",flexFlow:"column nowrap",children:(0,u.jsxs)(o.kC,{justifyContent:"space-between",style:{width:"100%"},children:[(0,u.jsx)(d,{selectFrom:t,from:n}),(0,u.jsx)(o.kC,{flexFlow:"column nowrap",alignItems:"flex-end",style:{padding:"8px 0 0 0"},children:(0,u.jsx)(c.u,{balance:n,assetDetails:i.get(n.asset)})})]})})})}},72653:function(e,t,n){"use strict";n.d(t,{D:function(){return f}});var r=n(59499),o=n(67294),a=n(83253),i=n.n(a),s=n(42326),c=n(29046),l=n(85893);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=(0,o.useState)(!1),n=t[0],r=t[1],a=d(d({},e),{},{mylogo:"https://thorwallet.s3.eu-central-1.amazonaws.com/THORWallet-logo2.png",primary:c.Rl.PRIMARY,success:c.Rl.SECONDARY}),u=new URLSearchParams(a).toString(),f="https://widget.mtpelerin.com/?lang=en&".concat(u);return(0,o.useEffect)((function(){r(!0)}),[]),(0,l.jsx)(i(),{isOpen:n,onRequestClose:function(){return s.e.setGlobalState("modal",null)},contentLabel:"Create password modal",style:{content:{zIndex:2,maxWidth:510,margin:"0 auto",height:"fit-content",borderRadius:16,background:"linear-gradient(162.1deg, #445F5D 15.56%, #3E5461 94.73%)",border:"none"},overlay:{zIndex:2,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(10px)"}},children:(0,l.jsx)("iframe",{style:{width:524,minHeight:620,border:"none",padding:20,backgroundColor:c.Rl.white,borderRadius:16,margin:-24},src:f})})}},87256:function(e,t,n){"use strict";n.d(t,{Wu:function(){return r},s3:function(){return o}});var r=function(e){return Uint8Array.from(e.match(/.{1,2}/g).map((function(e){return parseInt(e,16)})))},o=function(e){return btoa(String.fromCharCode.apply(null,e))}},94207:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sell",function(){return n(31712)}])}},function(e){e.O(0,[7201,9253,6242,9774,2888,179],(function(){return t=94207,e(e.s=t);var t}));var t=e.O();_N_E=t}]);